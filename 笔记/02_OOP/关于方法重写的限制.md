## 方法重写

### 两同两小一大规则

#### 两同

即方法签名相同, 包括方法名和参数列表两个部分. 

 - 方法名相同
 - 参数列表相同

#### 两小
 - 返回值：

  子类方法的返回值，要小于等于父类的返回值

  即子类返回值是父类方法返回值的子类对象，即要满足

  > 子类方法的返回值 instancof 父类方法的返回值


 - 异常：

  子类方法抛出的异常类型小于等于父类抛出的异常 

  即子类返回值是父类方法返回值的子类对象，即要满足

  > 子类方法的异常 instanceof 父类方法的异常
#### 一大
 - 访问权限

  子类方法的访问权限要大于或等于父类的方法

  即能访问父类方法的地方，也必须能够访问得了子类方法

### 原因
**两同两小一大**的规则，是对**置换原则**的具体阐述

置换原则要求能用父类对象的地方，换成子类对象也要能够正常运行（但不要求反过来能正常运行）。

此项原则也是 **多态** 能够正常运作的保障.

比方说在`Map`类中，有一个方法`keySet()`获取键的集合，返回值是一个`Set`类型的实例

```java
Map map = new Map();
Set keyset = map.keySet();
```

这个方法要返回一个 `Set` 类型的返回值，如果 `Map` 有一个子类 `MapSon`，重写了 `keySet()` 方法

现在我们把 `Map` 类型的对象换成子类对象，即 `MapSon` 造型成父类类型时，也去调用这个方法:

```java
// 此处将 MapSon 对象赋值给 Map 类型的变量 map
Map map = new MapSon();
Set keyset = map.keySet(); 
```


 - **返回值**

  而如果子类的`keySet()`返回值不是`Set`类型或其子类，就不能将返回值赋值给`Set`类型的变量`keyset`

  因此必须保证：**子类方法的返回值 instancof 父类方法的异常**

 - **异常**

  同理，如果该方法要捕获父类方法抛出的异常，但子类方法抛出的异常超过父类异常，就无法正常处理

  因此必须保证：**子类方法的异常 instancof 父类方法的异常**

- **访问权限**

  如果子类方法中缩小了访问权限，此处就无法正常调用`keySet()`，无法实现多态, 因此不能缩小访问权限

  因此必须保证：**子类方法的访问权限必须大于或等于父类方法的访问权限**
