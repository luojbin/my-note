## 项目背景

CSS/LTS业务增长迅猛, 日志存储成本急剧上升

css 服务集群的索引元数据性能不足, 监控数据显示排队任务超过200个,

写入性能也比较弱, 单核1MB/s

希望实现批量创建索引性能提升10倍, 数据导入性能提升2倍

后续扩大集群规模, 实现 serverless/regionless

# 批量创建索引优化

> 改内容

- 背景
  - css基于开源 ES实现, 采用主从结构, 元数据相关修改都由master 负责, master性能直接影响整个服务的稳定性和可靠性
  - master 元数据处理性能不足, 大量任务堆积
  - css 现网存在周期性批量创建索引需求, 提升批量创建索引性能可以减少 master 压力, 减少现网稳定性问
- 目标
  - 批量创建索引性能提升10倍



# 支持百万shard

## 家鑫的

- 背景
  - 当前正在对Css服务做 serverless 改造, 目标架构为实现逻辑多组的服务
  - 为了支撑目标达成, 需要优化增大Css服务当前对 shard 数的支持
  - 同时解决css服务集群在 shard 数规模大时集群启动慢, 以及集群状态不稳定等问题
- 目标
  - 通过优化使 css服务单集群支持百万级规模shard

## 我的

> 要改内容

- 背景
  - CSS 服务的 ES集群物理多租, 集群规模小
  - 为了实现 serverless 和逻辑多租, 需要增大单集群shard 数规模
  - css 集群在shard 数规模大时启动慢, 还会出现节点失败
- 目标
  - 实现 css 服务单集群支持百万级shard

# IndexingService

> 这页内容要修改

- 优化需求及背景
  - ElasticSearch 集群规模小, 写入性能不足, 存储成本高
  - 

